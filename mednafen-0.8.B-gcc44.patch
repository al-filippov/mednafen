--- src/file.cpp.gcc44	2007-11-18 00:09:49.000000000 +0100
+++ src/file.cpp	2009-03-11 17:56:58.000000000 +0100
@@ -418,7 +418,7 @@
    if(!(fceufp = MakeMemWrap(t, 0)))
     return(0);
 
-   char *ld = strrchr(path, '.');
+   const char *ld = strrchr(path, '.');
    fceufp->ext = strdup(ld ? ld + 1 : "");
   }
   else                  /* Probably gzip */
